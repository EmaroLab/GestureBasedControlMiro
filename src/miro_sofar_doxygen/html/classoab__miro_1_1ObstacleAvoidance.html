<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gesture-Based Control of MiRo: oab_miro.ObstacleAvoidance Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Gesture-Based Control of MiRo
   </div>
   <div id="projectbrief">The user can guide MiRo using a wearable device, a swartwatch with a 9-axis imu sensor. &lt;br&gt; The Robot can override the user&#39;s command when an obstacle is detected to avoid collision.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>oab_miro</b></li><li class="navelem"><a class="el" href="classoab__miro_1_1ObstacleAvoidance.html">ObstacleAvoidance</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classoab__miro_1_1ObstacleAvoidance-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">oab_miro.ObstacleAvoidance Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>DESCRIPTION OF THE NODE.  
 <a href="classoab__miro_1_1ObstacleAvoidance.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4c09f48116e03a2ada68ee1babd82a9e"><td class="memItemLeft" align="right" valign="top"><a id="a4c09f48116e03a2ada68ee1babd82a9e"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>__init__</b> (self)</td></tr>
<tr class="separator:a4c09f48116e03a2ada68ee1babd82a9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fa593e0b629518b392e37b64025a468"><td class="memItemLeft" align="right" valign="top"><a id="a1fa593e0b629518b392e37b64025a468"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>callback_last_command</b> (self, sw_data)</td></tr>
<tr class="separator:a1fa593e0b629518b392e37b64025a468"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a292e590575d7e28589a60b9c83776fb6"><td class="memItemLeft" align="right" valign="top"><a id="a292e590575d7e28589a60b9c83776fb6"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>callback_oab</b> (self, sonar_data)</td></tr>
<tr class="separator:a292e590575d7e28589a60b9c83776fb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36b64da5042fa20d2ddb98778c798aae"><td class="memItemLeft" align="right" valign="top"><a id="a36b64da5042fa20d2ddb98778c798aae"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>main</b> (self)</td></tr>
<tr class="separator:a36b64da5042fa20d2ddb98778c798aae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ab6cfa8eebb476816919dfa2c95293309"><td class="memItemLeft" align="right" valign="top"><a id="ab6cfa8eebb476816919dfa2c95293309"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>robot_name</b></td></tr>
<tr class="separator:ab6cfa8eebb476816919dfa2c95293309"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a573396c9c743224c844822721bf163e1"><td class="memItemLeft" align="right" valign="top"><a id="a573396c9c743224c844822721bf163e1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>obstacle</b></td></tr>
<tr class="separator:a573396c9c743224c844822721bf163e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a918f768d96299a5f9e9c0f6425331755"><td class="memItemLeft" align="right" valign="top"><a id="a918f768d96299a5f9e9c0f6425331755"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>last_command</b></td></tr>
<tr class="separator:a918f768d96299a5f9e9c0f6425331755"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7983164a376933bfb9462c66481e8d23"><td class="memItemLeft" align="right" valign="top"><a id="a7983164a376933bfb9462c66481e8d23"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>counter</b></td></tr>
<tr class="separator:a7983164a376933bfb9462c66481e8d23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9241219fb6f3e9f4e4a1117660c2833d"><td class="memItemLeft" align="right" valign="top"><a id="a9241219fb6f3e9f4e4a1117660c2833d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>start_dir</b></td></tr>
<tr class="separator:a9241219fb6f3e9f4e4a1117660c2833d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf439db92c20b964e43a718a8c5f1c3d"><td class="memItemLeft" align="right" valign="top"><a id="aaf439db92c20b964e43a718a8c5f1c3d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>danger_threshold</b></td></tr>
<tr class="separator:aaf439db92c20b964e43a718a8c5f1c3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2ca6b001b6d5072fae5bb2a8b82de71"><td class="memItemLeft" align="right" valign="top"><a id="af2ca6b001b6d5072fae5bb2a8b82de71"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>sub_sonar_data</b></td></tr>
<tr class="separator:af2ca6b001b6d5072fae5bb2a8b82de71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72496bf39cea30e8a13aebae68568c05"><td class="memItemLeft" align="right" valign="top"><a id="a72496bf39cea30e8a13aebae68568c05"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>sub_imu_data</b></td></tr>
<tr class="separator:a72496bf39cea30e8a13aebae68568c05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bd2767cd869d8128e963ca793cfb1fc"><td class="memItemLeft" align="right" valign="top"><a id="a1bd2767cd869d8128e963ca793cfb1fc"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>pub_platform_control</b></td></tr>
<tr class="separator:a1bd2767cd869d8128e963ca793cfb1fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79c75ee545d131758304c200db00628d"><td class="memItemLeft" align="right" valign="top"><a id="a79c75ee545d131758304c200db00628d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>body_vel</b></td></tr>
<tr class="separator:a79c75ee545d131758304c200db00628d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p class="">DESCRIPTION OF THE NODE. </p>
<p class="">The node subscribes to the sonar and check the presence of an obstacle If the obstacle is present the strategy is to start turning in the direction given by the user through the smartwatch until no obstacle is present anymore More in details: Subscribe to the topic /platform/sensors Read the value from the sonar and check the presence of an obstacle if there is an obstacle implement the obstacle avoidance behaviour The obstacle avoidance behavior: Subscribe to the topic  save the last acceleration value if last acc[1]&gt; 0 save the right if last acc[1]&lt;0 save the left Then MiRo starts turnin in the direction of the last value saved few degree each time the same obstacle is detected until there is no obstacle anymore </p>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/emaro/catkin_ws/src/miro_sofar/src/oab_miro.py</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
